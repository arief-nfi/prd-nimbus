{
  "files": [
    {
      "path": "frontend/src/pages/WarehouseFormSlideOver.tsx",
      "content": "import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { useNavigate } from 'react-router-dom';\nimport { X, Loader2 } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { useToast } from '@/components/ui/use-toast';\n\nconst warehouseSchema = z.object({\n  nodeId: z.string().min(1, 'Node ID is required'),\n  name: z.string().min(1, 'Name is required'),\n  phone: z.string().regex(/^[1-9][0-9]{7,14}$/, 'Phone Number must be 8-15 digits and cannot start with 0'),\n  address: z.string().min(1, 'Address is required'),\n  status: z.enum(['Active', 'Inactive']).default('Active'),\n});\n\ntype WarehouseFormValues = z.infer<typeof warehouseSchema>;\n\nconst WarehouseFormSlideOver: React.FC = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n  const navigate = useNavigate();\n\n  const form = useForm<WarehouseFormValues>({\n    resolver: zodResolver(warehouseSchema),\n    defaultValues: {\n      nodeId: 'WH0001', // Mock auto-generated ID\n      name: '',\n      phone: '',\n      address: '',\n      status: 'Active',\n    },\n  });\n\n  const onSubmit = async (data: WarehouseFormValues) => {\n    setIsLoading(true);\n    try {\n      // Mock API call\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      \n      // Simulation of VR-001 (Unique Name)\n      if (data.name.toLowerCase() === 'existing') {\n        throw new Error('Name must be unique');\n      }\n\n      // Simulation of VR-013 (Sequence Overflow)\n      if (data.nodeId === 'WH9999') {\n        throw new Error('Maximum sequence reached for Node ID. Contact administrator.');\n      }\n\n      toast({\n        title: 'Success',\n        description: 'Warehouse created successfully.',\n      });\n      navigate(-1);\n    } catch (error: any) {\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: error.message || 'Something went wrong.',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 overflow-hidden\">\n      <div className=\"absolute inset-0 bg-black/50\" onClick={() => navigate(-1)} />\n      <div className=\"absolute inset-y-0 right-0 flex max-w-full pl-10\">\n        <div className=\"w-screen max-w-md transform transition-transform duration-500 ease-in-out\">\n          <div className=\"flex h-full flex-col overflow-y-scroll bg-white shadow-xl\">\n            <div className=\"flex items-center justify-between border-b px-4 py-6 sm:px-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">C.7.6 Form</h2>\n              <button\n                type=\"button\"\n                className=\"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none\"\n                onClick={() => navigate(-1)}\n              >\n                <X className=\"h-6 w-6\" aria-hidden=\"true\" />\n              </button>\n            </div>\n\n            <div className=\"relative flex-1 px-4 py-6 sm:px-6\">\n              <Form {...form}>\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"nodeId\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Node ID <span className=\"text-red-500\">*</span></FormLabel>\n                        <FormControl>\n                          <Input {...field} readOnly className=\"bg-gray-100\" />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"name\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Name <span className=\"text-red-500\">*</span></FormLabel>\n                        <FormControl>\n                          <Input placeholder=\"Enter warehouse name\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"phone\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Phone Number <span className=\"text-red-500\">*</span></FormLabel>\n                        <FormControl>\n                          <Input placeholder=\"e.g. 812345678\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"address\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Address <span className=\"text-red-500\">*</span></FormLabel>\n                        <FormControl>\n                          <Input placeholder=\"Enter full address\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <div className=\"flex items-center justify-end space-x-3 pt-6 border-t\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => navigate(-1)}\n                      disabled={isLoading}\n                    >\n                      Cancel\n                    </Button>\n                    <Button type=\"submit\" disabled={isLoading}>\n                      {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n                      Save\n                    </Button>\n                  </div>\n                </form>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WarehouseFormSlideOver;",\n      "description": "Form component for Warehouse creation with slide-over layout and validation rules."\n    }\n  ]\n}"\n