// Add to existing schema.prisma

enum ItemStatus {
  Active
  Inactive
}

model Item {
  id        String     @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  sku       String     @unique @db.VarChar(255)
  brand     String?    @db.VarChar(255)
  name      String     @db.VarChar(255)
  uomId     String     @map("uom_id") @db.Uuid
  status    ItemStatus @default(Active)
  
  // Audit columns
  createdAt DateTime   @default(now()) @map("created_at") @db.Timestamptz
  createdBy String?    @map("created_by") @db.Uuid
  updatedAt DateTime   @updatedAt @map("updated_at") @db.Timestamptz
  updatedBy String?    @map("updated_by") @db.Uuid
  
  // Soft delete columns
  deletedAt DateTime?  @map("deleted_at") @db.Timestamptz
  deletedBy String?    @map("deleted_by") @db.Uuid

  // Relations
  uom       Uom        @relation(fields: [uomId], references: [id], onDelete: Restrict)
  inventories Inventory[]

  @@index([uomId], name: "idx_items_uom_id")
  @@index([createdAt], name: "idx_items_created_at")
  @@index([deletedAt], name: "idx_items_deleted_at")
  @@map("items")
}